<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fragmentos</title>

  <style>
    :root{
      --bg:#0b1020;
      --card:#020617;
      --txt:#e5e7eb;
      --muted:#9ca3af;
      --accent:#60a5fa;
      --ok:#34d399;
      --err:#ef4444;
    }

    *{ box-sizing:border-box }

    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      background:radial-gradient(1200px 600px at 10% 10%, #0f172a 0%, var(--bg) 40%);
      color:var(--txt);
      font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
    }

    .wrap{ width:min(900px,92vw) }

    .card{
      background:var(--card);
      border:1px solid #111827;
      border-radius:14px;
      box-shadow:0 20px 60px rgba(0,0,0,.45);
    }

    header{
      padding:18px 20px;
      border-bottom:1px dashed #111827;
      display:flex;
      gap:12px;
      align-items:center;
    }

    .dot{
      width:10px;
      height:10px;
      border-radius:50%;
      background:#ef4444;
      box-shadow:18px 0 #f59e0b,36px 0 #22c55e;
    }

    header h1{
      font-size:14px;
      margin:0;
      color:var(--muted);
    }

    .body{ padding:18px 20px }

    .terminal{
      background:#020617;
      border-radius:10px;
      padding:16px;
      min-height:280px;
    }

    .line{ margin-bottom:8px }
    .ok{ color:var(--ok) }
    .err{ color:var(--err) }
    .muted{ color:var(--muted) }

    .controls{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      margin-top:14px;
    }

    input{
      flex:1;
      min-width:220px;
      background:#020617;
      border:1px solid #1f2937;
      color:var(--txt);
      padding:10px 12px;
      border-radius:10px;
    }

    button{
      appearance:none;
      border:1px solid #1f2937;
      background:#020617;
      color:var(--txt);
      padding:10px 14px;
      border-radius:10px;
      cursor:pointer;
    }

    button.primary{ border-color:#2563eb }
    button:disabled{ opacity:.5; cursor:not-allowed }

    footer{
      padding:14px 20px;
      border-top:1px dashed #111827;
      color:var(--muted);
      font-size:12px;
    }

    .letter{
      white-space:pre-wrap;
      line-height:1.7;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card">
      <header>
        <div class="dot"></div>
        <h1>....Contigo todo, sin ti nadaðŸ’Œ.js â€” ejecuciÃ³n validada</h1>
      </header>

      <div class="body">
        <div class="terminal" id="terminal"></div>

        <div class="controls">
          <input id="codeInput" placeholder="escribe la lÃ­nea exacta aquÃ­" autocomplete="off" />
          <button id="check" class="primary">ejecutar</button>
        </div>
      </div>

      <footer>
        Mi amor, cada papelito es un fragmento (lÃ­nea de cÃ³digo).  
        Si el cÃ³digo coincide, avanzas.
      </footer>
    </div>
  </div>

  <audio id="bgMusic" loop>
    <source src="musica.mp3" type="audio/mpeg">
  </audio>

  <script>
    const FRAGMENTS = [
      "// inicializando entorno emocional...",
      "const nosotros = { version: '1.0.0', estable: true };",
      "let confianza = 0;",
      "if (dudas) confianza++;",
      "while (tiempo) aprendimos();",
      "try { amar(); } catch(e) { amarMas(); }",
      "git commit -m \"elegirte de nuevo\"",
      "git push origin futuro"
    ];

    const LETTER = const LETTER = `ðŸ“œ
Hola David, antes de todo quiero que sepas que este regalo es una de mis muestras de amor mÃ¡s preciadas, acabas de entrar en lo mÃ¡s recÃ³ndito de mi corazÃ³n.  

Cada palabra que leerÃ¡s fue escrita desde lo mÃ¡s profundo de mis sentimientos, de mi amor por ti.  
QuerÃ­a que fuera especial y que solo tÃº y yo lo entendiÃ©ramos al estilo dev que conocemos.

AprendÃ­ cÃ³mo crear repositorios en GitHub para hacerte este regalo.  
SÃ© que tÃº querÃ­as enseÃ±arme todo eso, pero no me pude aguantar hacerte algo Ãºnico que te dejara resolviendo un puzzle como tanto te gusta.

IntentÃ© unir las cosas que te gustan (las que sÃ© por el momento) y espero te hayas divertido en el procesoâ€¦  
Con mucho amor quiero decirte queâ€¦

TÃº, David Alexis Tulloch Arosemena, has, eres y serÃ¡s mi gran amor.  
Porque contigo pude ver que amar va mÃ¡s allÃ¡ de lo que una persona pueda ofrecerte,  
sino de lo que estamos dispuestos a sacrificar por tenernos.

Cada momento a tu lado es como vivir una novela romÃ¡ntica de los aÃ±os 70,  
algo que siempre soÃ±Ã© tener y que creÃ­ jamÃ¡s encontrarÃ­a.  
Te has vuelto uno con mis pensamientos y me vuelvo loca de tanto amor y deseo.

No sÃ© quÃ© nos depare la vida,  
solo sÃ© que mi presente a tu lado es lo que importa.

Me aceptaste con todo y mis miedos y traumas.  
Me escuchaste cuando mÃ¡s necesitaba ser escuchada, sin interrupciones.  
Sacaste mi niÃ±a interior y por fin me siento sanada gracias a tu amor.

No me sueltes.  
Construyamos nuestra familia.  
Caigamos y levantÃ©monos juntos.  
Esa es la clave del matrimonio.

Yo a ti TE AMO â¤ï¸  
y serÃ© tu apoyo toda la vida.

Con mucho amor y cariÃ±o,  
tuya siempreâ€¦

Tu Raquel ðŸŒ¹
`;


    const term = document.getElementById('terminal');
    const input = document.getElementById('codeInput');
    const btn = document.getElementById('check');
    const music = document.getElementById('bgMusic');

    let idx = 0;

    function log(text, cls = ''){
      const div = document.createElement('div');
      div.className = `line ${cls}`;
      div.textContent = text;
      term.appendChild(div);
      term.scrollTop = term.scrollHeight;
    }

    log("// escribe la primera lÃ­nea para comenzar", 'muted');

    btn.addEventListener('click', () => {
	  if (music.paused) {
        music.volume = 0.4;
        music.play().catch(() => {});;
      }
      if (idx >= FRAGMENTS.length) return;

      if (input.value.trim() === FRAGMENTS[idx]) {

        

        log("âœ” " + FRAGMENTS[idx], 'ok');
        idx++;
        input.value = '';

        if (idx === FRAGMENTS.length) {
          log("\nâœ” compilaciÃ³n exitosa", 'ok');
          log("\n" + LETTER);
          input.disabled = true;
          btn.disabled = true;
        }

      } else {
        log("âœ– Error de sintaxis. Revisa el fragmento.", 'err');
      }
    });
  </script>
</body>
</html>
